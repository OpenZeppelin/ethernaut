// SPDX-License-Identifier: MIT

pragma solidity ^0.8.0;

import "./base/Level.sol";
import "./NotOptimisticPortal.sol";

contract NotOptimisticPortalFactory is Level {
    function createInstance(address _player) public payable override returns (address) {
        _player;
        bytes memory genesisRlpBlockHeader = hex"f90204a00000000000000000000000000000000000000000000000000000000000000000a01dcc4de8dec75d7aab85b567b6ccd41ad312451b948a7413f0a142fd40d49347940000000000000000000000000000000000000000a0d7d3685b57d9897755fad850b19f7c43debfded002e18a9e8e5b63639882b6f9a0c5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470a0c5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470b90100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000184039fd3988401c9c38080845fc630578b4354465f5061796c6f6164a00000000000000000000000000000000000000000000000000000000000000000880000000000000000";
        NotOptimisticPortal portal = new NotOptimisticPortal(
            "CTFToken",
            "CTFT",
            genesisRlpBlockHeader,
            address(uint160(uint256(keccak256("governance"))))
        );
        return address(portal);
    }

    function validateInstance(address payable _instance, address) public view override returns (bool) {
        NotOptimisticPortal instance = NotOptimisticPortal(_instance);
        return instance.totalSupply() > 0;
    }
}
